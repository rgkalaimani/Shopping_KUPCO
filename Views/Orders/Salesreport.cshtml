
@{
    ViewBag.Title = "Salesreport";
    Layout = "~/Views/Shared/_ShoppingLayout.cshtml";
}




<div class="container-fluid py-4">
    <section class="">
        <div class="card">
            <div class="card-body">
                <h3>Sales Report</h3>

                <!-- Content goes here... -->

            </div>
        </div>
    </section>
</div>

<script src="../content/assets/js/jquery-3.6.3.min.js"></script>
<script src="../content/assets/js/app-data.js"></script>
<script src="../content/assets/js/lang.js"></script>
<script src="../content/assets/js/site.js"></script>
<script>
      // Page variables
      var divLogin = $("#divLogin");
      var divOrder = $("#divOrder");
      var btnCustomerNext = $("#btnCustomerNext");
      var isExistingCustomer = false;

      // Pre-define function
      function handleCustNextBtnState(disalbeState) {
        btnCustomerNext.attr("disabled", disalbeState);
      }
      function bindCustomerDetail() {
        var custDetail = getSessionCustomer();
        if (custDetail) {
          $("#lblCustName").text(custDetail.name);
          $("#lblCustMobile").text(custDetail.mobile);
          $("#lblCustAddress").text(custDetail.address);
        }
      }
      function handleView(clickedAction) {
        if (clickedAction == "login") {
          divLogin.hide();
          divOrder.hide();
          divRegister.show("slow");
        }
        if (clickedAction == "register") {
          // divRegister.hide();
          divOrder.hide();
          divLogin.show("slow");
        }
      }
      function clearCustomerInfo() {
        $("#txtCustMobile").val("");
        $("#txtRCustName").val("");
        $("#txtRCustMobile").val("");
        $("#txtRCustCity").val("");
        $("#txtRCustBlock").val("");
        $("#txtRCustStreet").val("");
        $("#txtRCustBuilding").val("");
        sessionStorage.removeItem("customer");
      }

      // on init
      clearCustomerInfo();
</script>

<script>
      function handleCustomerLogin() {
        var txtCustMobile = $("#txtCustMobile").val();

        if (!txtCustMobile) {
          alert("Please enter mobile number");
          return false;
        }

        isExistingCustomer = false;
        clearCustomerInfo();
        var tempAppUsers = getAppUsers();

        var cust = tempAppUsers.filter((item) => item.mobile == txtCustMobile);

        if (cust.length == 0) {
          alert("Customer not found.");
          return false;
        }

        setSessionCustomer(cust[0]);

        $("#txtRCustName").val(cust[0].name);
        $("#txtRCustMobile").val(cust[0].mobile);
        $("#txtRCustAddress").val(cust[0].address);
        $("#txtRCustCity").val(cust[0].city);
        $("#txtRCustBlock").val(cust[0].block);
        $("#txtRCustStreet").val(cust[0].street);
        $("#txtRCustBuilding").val(cust[0].building);

        isExistingCustomer = true;
      }
      function handleCustomerNext() {
        if (isExistingCustomer) {
          window.location.href = "./order.html";
          return true;
        }

        var txtRCustName = $("#txtRCustName").val();
        var txtRCustMobile = $("#txtRCustMobile").val();
        // var txtRCustAddress = $("#txtRCustAddress").val();
        var txtRCustCity = $("#txtRCustCity").val();
        var txtRCustBlock = $("#txtRCustBlock").val();
        var txtRCustStreet = $("#txtRCustStreet").val();
        var txtRCustBuilding = $("#txtRCustBuilding").val();
        if (!txtRCustName) {
          alert("Please enter the name");
          return false;
        }
        if (!txtRCustMobile) {
          alert("Please enter the mobile number");
          return false;
        }
        if (!txtRCustCity) {
          alert("Please select the city");
          return false;
        }
        if (!txtRCustBlock) {
          alert("Please enter the block");
          return false;
        }
        if (!txtRCustStreet) {
          alert("Please enter the street");
          return false;
        }
        if (!txtRCustBuilding) {
          alert("Please enter the building");
          return false;
        }
        setSessionCustomer({
          name: txtRCustName,
          mobile: txtRCustMobile,
          city: txtRCustCity,
          block: txtRCustBlock,
          street: txtRCustStreet,
          building: txtRCustBuilding,
        });
        window.location.href = "/admin/products.html";
      }
</script>
